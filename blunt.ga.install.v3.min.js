function bluntGA_addEvents(){function s(){var t=document.getElementsByTagName("a");var n=t.length;for(var r=0;r<n;r++){var i="";var s="";var o="";var v=document.location.pathname.replace(/#.*$/,"");if(e["cross_site"]["enable"]){v="/"+e["cross_site"]["prefix"]+"/"+v+"/"+e["cross_site"]["sufix"]+"/";v=v.replace(/\/+/g,"/")}var m=0;var g=true;var y="";var b=0;var w=true;var E=t[r].getAttribute("href");var S=false;var x=false;if(E!=""&&E!=null){E=u(E);if(!S&&c(E)){if(h(E)){w=false}S=true;if(e["external"]["enable"]){x=true;i=e["external"]["method"];s=e["external"]["category"];o=E;g=e["external"]["non_interact"];b=e["external"]["delay"];if(e["external"]["new_window"]){y="_blank"}}}if(!S&&l(E)){S=true;if(e["mailto"]["enable"]){x=true;i=e["mailto"]["method"];s=e["mailto"]["category"];o=E.replace(/^mailto:/,"");g=e["mailto"]["non_interact"];b=e["mailto"]["delay"];if(e["mailto"]["new_window"]){y="_blank"}}}if(!S&&f(E)){if(e["click_to_call"]["enable"]){x=true;i=e["click_to_call"]["method"];s=e["click_to_call"]["category"];o=E.replace(/^tel:/,"");g=e["click_to_call"]["non_interact"];b=e["click_to_call"]["delay"];if(e["click_to_call"]["new_window"]){y="_blank"}}}if(!S&&a(E)){S=true;if(e["document"]["enable"]){x=true;i=e["document"]["method"];s=e["document"]["category"];o=E;g=e["document"]["non_interact"];b=e["document"]["delay"];if(e["document"]["new_window"]){y="_blank"}}}if(!S&&p(E)){S=true;var T=d(E);if(e["anchors"]["enable"]){x=true;i=e["anchors"]["method"];s=e["anchors"]["category"];o=T;g=e["anchors"]["non_interact"];b=e["anchors"]["delay"];if(e["anchors"]["new_window"]){y="_blank"}}}if(x){t[r].setAttribute("data-ga_method",i);t[r].setAttribute("data-ga_category",s);t[r].setAttribute("data-ga_action",o);t[r].setAttribute("data-ga_label",v);t[r].setAttribute("data-ga_value",m);t[r].setAttribute("data-ga_nonInteract",g);t[r].setAttribute("data-ga_delay",b);t[r].setAttribute("data-ga_link",w);var N=t[r].getAttribute("target");if(y!=""&&(N==""||N==null)){t[r].setAttribute("target",y)}if(window.addEventListener){t[r].addEventListener("click",function(e){bluntGA_trackEvent(this);e.preventDefault()},false)}else if(window.attachEvent){t[r].attachEvent("onclick",function(e){bluntGA_trackEvent(this);e.preventDefault()})}}}}}function o(){var t=document.forms.length;if(t>0){var n=e["form"]["method"];var r=e["form"]["category"];var i=0;var s=e["form"]["delay"];var o=false;for(var a=0;a<t;a++){var f="";var l=e["form"]["non_interact"];var h="";var p="";var d="";var v="";if(document.forms[a].getAttribute("name")){var h=document.forms[a].getAttribute("name")}else if(document.forms[a].getAttribute("id")){var h=document.forms[a].getAttribute("id")}if(h==""||h==null){h="Form_Number_"+a;document.forms[a].setAttribute("name",h)}var p=document.location.pathname.replace(/#.*$/,"");if(document.forms[a].getAttribute("action")){var d=document.forms[a].getAttribute("action");d=d.replace(/#.*$/,"")}if(d!=""&&d!=null){d=u(d);if(c(d)){l=true}}if(p==d||d==""){d="self"}var f=d;var v=p;if(e["cross_site"]["enable"]){v="/"+e["cross_site"]["prefix"]+"/"+v+"/"+e["cross_site"]["sufix"]+"/";v=v.replace(/\/+/g,"/")}document.forms[a].setAttribute("data-ga_method",n);document.forms[a].setAttribute("data-ga_category",r);document.forms[a].setAttribute("data-ga_action",f);document.forms[a].setAttribute("data-ga_label",v);document.forms[a].setAttribute("data-ga_value",i);document.forms[a].setAttribute("data-ga_nonInteract",l);document.forms[a].setAttribute("data-ga_delay",s);document.forms[a].setAttribute("data-ga_link",true);if(window.addEventListener){document.forms[a].addEventListener("submit",function(e){bluntGA_trackEvent(this);e.preventDefault()},false)}else if(window.attachEvent){document.forms[a].attachEvent("onsubmit",function(e){bluntGA_trackEvent(this);e.preventDefault()})}}}}function u(e){e=String(e);if(e.indexOf(t)==0){e=e.substring(n)}if(e.indexOf(r)==0){e=e.substring(i)}return e}function a(t){var n=false;var r=t.split(".").pop();if(e["document"]["extensions"].indexOf(r)!=-1){n=true}return n}function f(e){var t=false;if(e.indexOf("tel:")==0){t=true}return t}function l(e){var t=false;if(e.indexOf("mailto:")==0){t=true}return t}function c(e){var t=false;if(e.indexOf(":/"+"/")!=-1){t=true}return t}function h(t){var n=false;var r=t.replace(/^[^\:]*:\/\/([^\/]*).*$/,"$1");r=r.toLowerCase();if(e["cross_link"]["enable"]&&e["cross_link"]["domains"].indexOf(r)!=-1){n=true}return n}function p(e){var t=false;if(e.indexOf("#")!=-1){var n=document.location.pathname.replace(/^(.*)#.+$/,"$1");e=e.replace(/^(.*)#.+$/,"$1");if(e==""||e==n){t=true}}return t}function d(e){return e.replace(/^.*(#.+)$/,"$1")}function v(){var t=document.location.pathname;t=t.replace(/\?.*$/,"");var n=document.location.hash;if(e["conversions"]["pages"].indexOf(t)!=-1||e["anchors"]["enable"]&&e["conversions"]["pages"].indexOf(n)!=-1){if(e["anchors"]["enable"]){t+=n}var r=document.referrer;if(r!=""){r=u(r);r=r.replace(/\?.*$/,"")}var i=e["conversions"]["method"];var s=e["conversions"]["category"];var o="";var a=r;if(e["cross_site"]["enable"]){t="/"+e["cross_site"]["prefix"]+"/"+t+"/"+e["cross_site"]["sufix"]+"/";t=t.replace(/\/+/g,"/");if(a!=""){a="/"+e["cross_site"]["prefix"]+"/"+a+"/"+e["cross_site"]["sufix"]+"/";a=a.replace(/\/+/g,"/")}}var f=0;var l=e["conversions"]["non_interact"];o=t;if(i=="event"){_gaq.push(["_trackEvent",s,o,a,f,l])}else{var c="/"+s+"/"+"?action="+o+"&label="+a;if(e["cross_site"]["enable"]){}_gaq.push(["_trackPageview",c])}}}if(bluntGA.done){return}bluntGA.done=true;var e=bluntGA.opt;var t="http:/"+"/"+location.host;var n=t.length;var r="https:/"+"/"+location.host;var i=t.length;if(e["external"]["enable"]||e["mailto"]["enable"]||e["document"]["enable"]||e["anchors"]["enable"]||e["click_to_call"]["enable"]){s()}if(e["form"]["enable"]){o()}if(e["conversions"]["enable"]){v()}}function bluntGA_trackEvent(e){var t=bluntGA.opt;var n="";if(e.nodeName){n=e.nodeName.toLowerCase()}if(!e.nodeName&&n!="a"&&n!="form"){e=bluntGA_getLinkIE(window.event.srcElement);if(e===null){return}}var r=e.getAttribute("data-ga_category");if(r){var i=false;var s="";var o=e.getAttribute("data-ga_method");var u=e.getAttribute("data-ga_action");var a=e.getAttribute("data-ga_label");var f=parseInt(e.getAttribute("data-ga_value"));var l=e.getAttribute("data-ga_nonInteract");var c=e.getAttribute("data-ga_delay");var h=e.getAttribute("href");if(h==null){i=true;s=e.getAttribute("name")}var p=e.getAttribute("data-ga_link");if(p!==true&&p!==false){if(p=="true"){p=true}else{p=false}}if(l==="true"){l=true}else if(l==="false"){l=false}var d=e.getAttribute("target");if(d==null||d==""){d=""}if(p||t["cross_link"]["event"]){if(o=="event"){_gaq.push(["_trackEvent",r,u,a,f,l])}else{var v="/"+r+"/"+"?action="+u+"&label="+a+"/";if(t["cross_site"]["enable"]){v="/"+t["cross_site"]["prefix"]+"/"+v+"/"+t["cross_site"]["sufix"]}v=v.replace(/\/+/g,"/");_gaq.push(["_trackPageview",v])}}if(!p){if(d!=""){pageTracker=_gat._getTracker(t["ga_account"]);var m=pageTracker._getLinkerUrl(h);setTimeout("var win = window.open('"+m+"','"+d+"'); win.focus();",c*1e3)}else{_gaq.push(["_link",h])}}else{if(!i){if(d!=""){setTimeout("var win = window.open('"+h+"','"+d+"'); win.focus();",c*1e3)}else{setTimeout("document.location = '"+h+"'",c*1e3)}}else{setTimeout("bluntGA_submitForm("+s+");",c*1e3)}}}}function bluntGA_submitForm(e){if(typeof e=="object"){e=e.getAttribute("name")}document.forms[e].submit()}function bluntGA_getLinkIE(e){var t=e.nodeName.toLowerCase();while(t!="a"&&t!="form"&&t!="body"){e=e.parentNode;t=e.nodeName.toLowerCase()}if(t=="body"){e=null}return e}if(!Array.prototype.indexOf){Array.prototype.indexOf=function(e,t){var n=-1;var r=this.length;for(var i=t||0;i<r;i++){if(this[i]===e){n=i}}return n}}if(bluntGA.opt!="undefined"){bluntGA.opt=eval(unescape(bluntGA.opt))}var _gaq=_gaq||[];if(bluntGA.opt&&bluntGA.opt["ga_account"]!=""){_gaq.push(["_setAccount",bluntGA.opt["ga_account"]]);var blundGApageLocation=document.location.pathname;if(bluntGA.opt["anchors"]["enable"]){blundGApageLocation+=document.location.hash}_gaq.push(["_setDomainName",bluntGA.opt["domain"]]);if(bluntGA.opt["cross_site"]["enable"]&&bluntGA.opt["cross_site"]["domain"]!=""){blundGApageLocation="/"+bluntGA.opt["cross_site"]["prefix"]+"/"+blundGApageLocation+"/"+bluntGA.opt["cross_site"]["sufix"]+"/";blundGApageLocation=blundGApageLocation.replace(/\/+/g,"/")}if(bluntGA.opt["cross_link"]["enable"]){_gaq.push(["_setAllowLinker",true])}var sendPageView=true;if(!bluntGA.opt["found"]){sendPageView=bluntGA.opt["not_found"]["page_view"];if(bluntGA.opt["not_found"]["enable"]){var theCategory=bluntGA.opt["not_found"]["category"];var theMethod=bluntGA.opt["not_found"]["method"];var theAction=document.location.pathname;if(bluntGA.opt["cross_site"]["enable"]){theAction="/"+bluntGA.opt["cross_site"]["prefix"]+"/"+theAction+"/"+bluntGA.opt["cross_site"]["sufix"]+"/"}var theLabel=document.referrer;var theValue=0;var theNonInteract=bluntGA.opt["not_found"]["non_interact"];if(bluntGA.opt["not_found"]["method"]=="event"){_gaq.push(["_trackEvent",theCategory,theAction,theLabel,theValue,theNonInteract])}else{var virtualPage="/"+theCategory+"/"+"?action="+theAction+"&label="+theLabel;_gaq.push(["_trackPageview",virtualPage])}}}if(sendPageView){_gaq.push(["_trackPageview",blundGApageLocation])}(function(){var e=document.createElement("script");e.type="text/javascript";e.async=true;e.src=("https:"==document.location.protocol?"https:/"+"/ssl":"http:/"+"/www")+".google-analytics.com/ga.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)})();if(window.addEventListener){window.addEventListener("DOMContentLoaded",bluntGA_addEvents,false)}if(window.addEventListener){window.addEventListener("load",bluntGA_addEvents,false)}else if(window.attachEvent){window.attachEvent("onload",bluntGA_addEvents)}}